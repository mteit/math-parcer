# Math Parser

A Rust library for parsing and evaluating mathematical expressions with variable substitution.

## Overview

Math Parser is a lightweight Rust library that parses mathematical expressions as strings and converts them into executable functions. It supports basic arithmetic operations, parentheses for grouping, variable substitution, mathematical functions, and constants.

## Features

- Parse and evaluate mathematical expressions
- Support for basic arithmetic operations (`+`, `-`, `*`, `/`, `^`)
- Variable substitution (using `x` as the variable)
- Parentheses for expression grouping
- Support for mathematical functions:
  - `sin`, `cos`, `tan` trigonometric functions
  - `ln` (natural logarithm)
  - `log10` (base-10 logarithm)
  - `sqrt` (square root)
  - `abs` (absolute value)
- Mathematical constants:
  - `pi` (Ï€)
  - `e` (Euler's number)
- Error handling

## Usage

Add this to your `Cargo.toml`:

```toml
[dependencies]
math-parser = { git = "https://github.com/mteit/math-parser", tag = "0.1.0" }
```

### Basic Example

```rust
use math_parser::generate_lambda;

fn main() {
    // Create a function from a mathematical expression
    let f = generate_lambda("2*x + 5").unwrap();

    // Evaluate the function with different x values
    println!("f(3) = {}", f(3.0).unwrap()); // Outputs: f(3) = 11
    println!("f(10) = {}", f(10.0).unwrap()); // Outputs: f(10) = 25
}
```

### Error Handling

```rust
use math_parser::generate_lambda;

fn main() {
    // Handle invalid expressions
    match generate_lambda("x +* 2") {
        Ok(_) => println!("Valid expression"),
        Err(e) => println!("Error: {}", e),
    }

    // Handle runtime errors (like division by zero)
    let div_func = generate_lambda("1/x").unwrap();
    match div_func(0.0) {
        Ok(result) => println!("Result: {}", result),
        Err(e) => println!("Error: {}", e),
    }
}
```

## Supported Expressions

The following are examples of expressions the library can handle:

- Basic arithmetic: `x + 5`, `x - 7`, `x * 2`, `x / 4`, `x ^ 2`
- Complex expressions: `(x + 2) * (x - 3)`, `x/10 + 2*x - 5`
- Order of operations: `2 + 3 * x` (follows standard mathematical precedence)
- Functions: `sin(x)`, `cos(x)`, `tan(x)`, `ln(x)`, `log10(x)`, `sqrt(x)`, `abs(x)`
- Combined expressions: `sin(x)^2 + cos(x)^2`, `2 * sin(x) + log10(x^2)`
- Constants: `sin(pi/2)`, `ln(e)`

## Limitations

- Currently only supports a single variable named `x`
- Does not support custom functions or variables
- Mathematical function support is limited to the built-in functions

###### generated by [claude.ai](claude.ai)

