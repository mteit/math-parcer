# Math Parser

A Rust library for parsing and evaluating mathematical expressions with variable substitution.

## Overview

Math Parser is a simple Rust library that parses mathematical expressions as strings and converts them into executable functions. It supports basic arithmetic operations, parentheses for grouping, variable substitution, mathematical functions, and constants.

## Features

- Parse and evaluate mathematical expressions
- Support for basic arithmetic operations (`+`, `-`, `*`, `/`, `^`)
- Variable substitution (using `x` as the variable)
- Parentheses for expression grouping
- Support for mathematical functions:
  - `sin`, `cos`, `tan` trigonometric functions
  - `log10` base-10 logarithm and custom base logarithms e.g., `log2`, `log1.5`
  - `logx` base-x logarithm
  - `ln` natural logarithm
  - `sqrt` square root
  - `abs` absolute value
- Mathematical constants:
  - `pi` Ï€
  - `e` Euler's number
- Error handling

## Usage

Add this to your `Cargo.toml`:

```toml
[dependencies]
math-parser = { git = "https://github.com/mteit/math-parser", tag = "0.4.0" }
```

### Basic Example

```rust
use math_parser::MathExpression;

fn main() {
    match MathExpression::new("2*x + 5") {
        Ok(expr) => {
            match expr.calculate(3.0) {
                Ok(result) => println!("f(3) = {}", result), // f(3) = 11
                Err(e) => println!("Calculation error: {}", e),
            }
        }
        Err(e) => println!("Parse error: {}", e),
    }
}
```

### Alternative: Using `generate_lambda`

For simpler use cases where you just need a function, you can use the `generate_lambda` utility:

```rust
use math_parser::generate_lambda;

fn main() -> Result<(), String> {
    // Create a closure from a mathematical expression
    let f = generate_lambda("2*x + 5")?;

    // Use it like any other function
    println!("f(3) = {}", f(3.0)?); // f(3) = 11

    Ok(())
}
```

## Limitations

- Currently only supports a single variable named `x`
- Does not support custom functions or variables
- Mathematical function support is limited to the built-in functions

###### generated by [claude.ai](claude.ai)
